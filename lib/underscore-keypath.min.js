(function(){var r=true;try{module;exports}catch(e){r=false}if(r){_=require("underscore")}else{try{_}catch(e){throw new Error("underscore.js is not found!")}}var n={"@first":function(r){return _.first(r)},"@last":function(r){return _.last(r)},"@max":function(r){return _.max(r)},"@min":function(r){return _.min(r)},"@size":function(r){return _.size(r)}};function t(r){if(typeof r=="object"&&r.constructor.name=="Array"){return r}else if(typeof r=="string"){return r.split(".")}else{throw new Error("keypath must be an array or a string")}}function u(r){r=r==null?"":String(r);return r.charAt(0).toUpperCase()+r.slice(1)}function i(r,e){var t=n[e];if(t){return t(r)}else{console.error("Unknown array property!",e);return undefined}}function o(r,e){if(e==""){return r}else if(e.indexOf("@")===0){return i(r,e)}var n=r["get"+u(e)];if(n===undefined){n=r["is"+u(e)]}if(n===undefined){n=r[e]}if(typeof n==="function"){n=n.call(r)}return n}function f(r,e){if(e==""){return true}return typeof r["get"+u(e)]=="function"||typeof r["is"+u(e)]=="function"||_.has(r,e)}function a(r,e,n){var t=r["set"+u(e)];if(t){return t.call(r,n)}else{return r[e]=n}}function l(r,e){var n=true;var t,u;for(t in e){u=e[t];if(_(r).valueForKeyPath(t)!=u){n=false;break}}return n}var s={valueForKeyPath:function(r,e,n){if(r===null||r===undefined){return n}var u=r;var i=t(e);var f=i.shift();var a=undefined;while(u!==null&&u!==undefined&&typeof f==="string"){a=u;u=o(u,f);if(typeof u==="function"){u=u.call(a)}f=i.shift()}return u||n},setValueForKeyPath:function(r,e,n){var u=t(e);var i=u.pop();var o=_(r).valueForKeyPath(u.join("."));if(o!==null&&o!==undefined){return a(o,i,n)}else{return undefined}},pluckByKeyPath:function(r,e){var n=[];var t,u;for(t in r){u=r[t];n[t]=_(u).valueForKeyPath(e)}return n},whereByKeyPath:function(r,e){"use strict";var n=[];var t,u;var i,o;for(t in r){u=r[t];if(l(u,e)){n.push(u)}}return n},findWhereByKeyPath:function(r,e){"use strict";var n=[];var t,u;var i,o;for(t in r){u=r[t];if(l(u,e)){return u}}return null},sortByKeyPath:function(r,e){if(typeof e!=="string"){return _.sortBy(r,e)}else{return _.sortBy(r,function(r){return _.valueForKeyPath(r,e)})}},groupByKeyPath:function(r,e){if(typeof e!=="string"){return _.groupBy(r,e)}else{return _.groupBy(r,function(r){return _.valueForKeyPath(r,e)})}},indexByKeyPath:function(r,e){if(typeof e!=="string"){return _.indexBy(r,e)}else{return _.indexBy(r,function(r){return _.valueForKeyPath(r,e)})}},countByKeyPath:function(r,e){if(typeof e!=="string"){return _.countBy(r,e)}else{return _.countBy(r,function(r){return _.valueForKeyPath(r,e)})}},hasKeyPath:function(r,e){if(r==null||r==undefined){return false}var n=t(e);var u=n.pop();var i=_.valueForKeyPath(r,n);if(i!=null&&i!=undefined){return f(i,u)}else{return false}}};var y={getValueForKeyPath:s.valueForKeyPath};_.mixin(s);_.mixin(y);if(r){module.exports=_}})();
//# sourceMappingURL=underscore-keypath.min.js.map
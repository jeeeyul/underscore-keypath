(function(){var r=true;try{module;exports}catch(e){r=false}if(r){_=require("underscore")}else{try{_}catch(e){throw new Error("underscore.js is not found!")}}function n(r){r=r==null?"":String(r);return r.charAt(0).toUpperCase()+r.slice(1)}function t(r,e){if(e=="@first"){return _.first(r)}else if(e=="@last"){return _.last(r)}else if(e=="@max"){return _.max(r)}else if(e=="@min"){return _.min(r)}else if(e=="@size"){return _.size(r)}else{console.error("Unknown array property!",e);return undefined}}function u(r,e){if(e==""){return r}else if(e.indexOf("@")===0){return t(r,e)}var u=r["get"+n(e)];if(u===undefined){u=r["is"+n(e)]}if(u===undefined){u=r[e]}if(typeof u==="function"){u=u.call(r)}return u}function i(r,e,t){var u=r["set"+n(e)];if(u){return u.call(r,t)}else{return r[e]=t}}function f(r,e){var n=true;var t,u;for(t in e){u=e[t];if(_(r).valueForKeyPath(t)!=u){n=false;break}}return n}var o={valueForKeyPath:function(r,e,n){if(typeof e!="string"){throw new Error("keypath must be a string")}if(r===null||r===undefined){return n}var t=r;var i=e.split(".");var f=i.shift();var o=undefined;while(t!==null&&t!==undefined&&typeof f==="string"){o=t;t=u(t,f);if(typeof t==="function"){t=t.call(o)}f=i.shift()}return t||n},setValueForKeyPath:function(r,e,n){if(typeof e!="string"){throw new Error("keypath must be a string")}var t=e.split(".");var u=t.pop();var f=_(r).valueForKeyPath(t.join("."));if(f!==null&&f!==undefined){return i(f,u,n)}else{return undefined}},pluckByKeyPath:function(r,e){var n=[];var t,u;for(t in r){u=r[t];n[t]=_(u).valueForKeyPath(e)}return n},whereByKeyPath:function(r,e){"use strict";var n=[];var t,u;var i,o;for(t in r){u=r[t];if(f(u,e)){n.push(u)}}return n},findWhereByKeyPath:function(r,e){"use strict";var n=[];var t,u;var i,o;for(t in r){u=r[t];if(f(u,e)){return u}}return null},sortByKeyPath:function(r,e){if(typeof e!=="string"){return _.sortBy(r,e)}else{return _.sortBy(r,function(r){return _.valueForKeyPath(r,e)})}},groupByKeyPath:function(r,e){if(typeof e!=="string"){return _.groupBy(r,e)}else{return _.groupBy(r,function(r){return _.valueForKeyPath(r,e)})}},indexByKeyPath:function(r,e){if(typeof e!=="string"){return _.indexBy(r,e)}else{return _.indexBy(r,function(r){return _.valueForKeyPath(r,e)})}},countByKeyPath:function(r,e){if(typeof e!=="string"){return _.countBy(r,e)}else{return _.countBy(r,function(r){return _.valueForKeyPath(r,e)})}}};var a={getValueForKeyPath:o.valueForKeyPath};_.mixin(o);_.mixin(a);if(r){module.exports=_}})();
//# sourceMappingURL=underscore-keypath.min.js.map
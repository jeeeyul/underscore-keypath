!function(){function a(a,b,c,d){return(0!==d?".":"")+b.replace(/\./g,"«dot»")}function b(b){"use strict";if("object"==typeof b&&"Array"===b.constructor.name)return Array.prototype.slice.call(b);if("string"==typeof b){b=b.replace(/\.\./g,"«dot»"),b=b.replace(/\['(([^']|\\')*)'\]/g,a),b=b.replace(/\["(([^"]|\\")*)"\]/g,a),b=b.replace(/([$A-Za-z_][0-9A-Za-z_$]*)\(\)/,"$1");var c=b.split(".");return c=i(c).map(function(a){return a.replace(/«dot»/g,".")})}throw new Error("keypath must be an array or a string")}function c(a){"use strict";return a=null===a?"":String(a),a.charAt(0).toUpperCase()+a.slice(1)}function d(a,b){"use strict";var c=k[b];return c?c(a):void 0}function e(a,b){"use strict";if(""===b)return a;if(0===b.indexOf("@"))return d(a,b);var e=a["get"+c(b)];return void 0===e&&(e=a["is"+c(b)]),void 0===e&&(e=a[b]),"function"==typeof e&&(e=e.call(a)),e}function f(a,b){"use strict";return""===b?!0:"function"==typeof a["get"+c(b)]||"function"==typeof a["is"+c(b)]||i.has(a,b)}function g(a,b,d){"use strict";var e=a["set"+c(b)];return e?e.call(a,d):(a[b]=d,d)}function h(a,b){"use strict";var c,d,e=!0;for(c in b)if(b.hasOwnProperty(c)&&(d=b[c],i(a).valueForKeyPath(c)!==d)){e=!1;break}return e}var i;"undefined"!=typeof _&&(i=_);var j,k,l,m,n=this;if(j="undefined"!=typeof module&&"undefined"!=typeof require,"undefined"==typeof i&&(i=j?require("underscore"):n.underscore),"undefined"==typeof i)throw new Error("underscore.js is not found!");k={"@first":function(a){return i.first(a)},"@last":function(a){return i.last(a)},"@max":function(a){return i.max(a)},"@min":function(a){return i.min(a)},"@size":function(a){return i.size(a)}},l={valueForKeyPath:function(a,c,d){"use strict";var f,g,h,i=a;if(null===a||void 0===a)return d;for(f=b(c),g=f.shift(),h=void 0;null!==i&&void 0!==i&&"string"==typeof g;)h=i,i=e(i,g),"function"==typeof i&&(i=i.call(h)),g=f.shift();return null===i||void 0===i?d:i},setValueForKeyPath:function(a,c,d){"use strict";var e,f,h=b(c);return e=h.pop(),f=i(a).valueForKeyPath(h.join(".")),null!==f&&void 0!==f?g(f,e,d):void 0},pluckByKeyPath:function(a,b){"use strict";var c,d,e=[];for(c=0;c<a.length;c+=1)d=a[c],e[c]=i(d).valueForKeyPath(b);return e},whereByKeyPath:function(a,b){"use strict";var c,d,e=[];for(c=0;c<a.length;c+=1)d=a[c],h(d,b)&&e.push(d);return e},findWhereByKeyPath:function(a,b){"use strict";var c,d;for(c=0;c<a.length;c+=1)if(d=a[c],h(d,b))return d;return null},sortByKeyPath:function(a,b){"use strict";return"string"!=typeof b?i.sortBy(a,b):i.sortBy(a,function(a){return i.valueForKeyPath(a,b)})},groupByKeyPath:function(a,b){"use strict";return"string"!=typeof b?i.groupBy(a,b):i.groupBy(a,function(a){return i.valueForKeyPath(a,b)})},indexByKeyPath:function(a,b){"use strict";return"string"!=typeof b?i.indexBy(a,b):i.indexBy(a,function(a){return i.valueForKeyPath(a,b)})},countByKeyPath:function(a,b){"use strict";return"string"!=typeof b?i.countBy(a,b):i.countBy(a,function(a){return i.valueForKeyPath(a,b)})},hasKeyPath:function(a,c){"use strict";var d,e,g;return null===a||void 0===a?!1:(d=b(c),e=d.pop(),g=this.valueForKeyPath(a,d),null!==g&&void 0!==g?f(g,e):!1)}},m={getValueForKeyPath:l.valueForKeyPath},i.mixin(l),i.mixin(m),j&&(module.exports=i,module.exports.__debug__={toSegments:b})}();
//# sourceMappingURL=underscore-keypath.min.js.map
(function(){var r=true;try{module;exports}catch(e){r=false}if(r){_=require("underscore")}else{try{_}catch(e){throw new Error("underscore.js is not found!")}}function t(r){r=r==null?"":String(r);return r.charAt(0).toUpperCase()+r.slice(1)}function n(r,e){if(e=="@first"){return _.first(r)}else if(e=="@last"){return _.last(r)}else if(e=="@max"){return _.max(r)}else if(e=="@min"){return _.min(r)}else if(e=="@size"){return _.size(r)}else{console.error("Unknown array property!",e)}}function i(r,e){if(e==""){return r}else if(e.indexOf("@")===0){return n(r,e)}var i=r["get"+t(e)];if(i===undefined){i=r["is"+t(e)]}if(i===undefined){i=r[e]}if(typeof i==="function"){i=i.call(r)}return i}function u(r,e,n){var i=r["set"+t(e)];if(i){i.call(r,n)}else{r[e]=n}}function o(r,e){var t=true;var n,i;for(n in e){i=e[n];if(_(r).valueForKeyPath(n)!=i){t=false;break}}return t}var f={valueForKeyPath:function(r,e,t){if(typeof e!="string"){throw new Error("keypath must be a string")}if(r===null||r===undefined){return t}var n=r;var u=e.split(".");var o=u.shift();var f=undefined;while(n!==null&&n!==undefined&&typeof o==="string"){f=n;n=i(n,o);if(typeof n==="function"){n=n.call(f)}o=u.shift()}return n||t},setValueForKeyPath:function(r,e,t){if(typeof e!="string"){throw new Error("keypath must be a string")}var n=e.split(".");var i=n.pop();var o=_(r).valueForKeyPath(n.join("."));if(o!==null&&o!==undefined){u(o,i,t)}},pluckByKeyPath:function(r,e){var t=[];var n,i;for(n in r){i=r[n];t[n]=_(i).valueForKeyPath(e)}return t},whereByKeyPath:function(r,e){"use strict";var t=[];var n,i;var u,f;for(n in r){i=r[n];if(o(i,e)){t.push(i)}}return t},findWhereByKeyPath:function(r,e){"use strict";var t=[];var n,i;var u,f;for(n in r){i=r[n];if(o(i,e)){return i}}return null},sortByKeyPath:function(r,e){if(typeof e!=="string"){return _.sortBy(r,e)}else{return _.sortBy(r,function(r){return _.valueForKeyPath(r,e)})}},groupByKeyPath:function(r,e){if(typeof e!=="string"){return _.groupBy(r,e)}else{return _.groupBy(r,function(r){return _.valueForKeyPath(r,e)})}},indexByKeyPath:function(r,e){if(typeof e!=="string"){return _.indexBy(r,e)}else{return _.indexBy(r,function(r){return _.valueForKeyPath(r,e)})}},countByKeyPath:function(r,e){if(typeof e!=="string"){return _.countBy(r,e)}else{return _.countBy(r,function(r){return _.valueForKeyPath(r,e)})}}};var a={getValueForKeyPath:f.valueForKeyPath};_.mixin(f);_.mixin(a);if(r){module.exports=_}})();
//# sourceMappingURL=underscore-keypath.min.js.map
(function(){var e=true;try{module;exports}catch(r){e=false}if(e){_=require("underscore")}else{try{_}catch(r){throw new Error("underscore.js is not found!")}}function t(e){e=e==null?"":String(e);return e.charAt(0).toUpperCase()+e.slice(1)}function n(e,r){if(r=="@first"){return _.first(e)}else if(r=="@last"){return _.last(e)}else if(r=="@max"){return _.max(e)}else if(r=="@min"){return _.min(e)}else if(r=="@size"){return _.size(e)}}function i(e,r){if(r==""){return e}else if(r.indexOf("@")===0){return n(e,r)}var i=e["get"+t(r)];if(i===undefined){i=e["is"+t(r)]}if(i===undefined){i=e[r]}if(typeof i==="function"){i=i.call(e)}return i}function u(e,r,n){var i=e["set"+t(r)];if(i){i.call(e,n)}else{e[r]=n}}function f(e,r){var t=true;var n,i;for(n in r){i=r[n];if(_(e).valueForKeyPath(n)!=i){t=false;break}}return t}var o={valueForKeyPath:function(e,r,t){if(typeof r!="string"){throw new Error("keypath must be a string")}if(e===null||e===undefined){return t}var n=e;var u=r.split(".");var f=u.shift();var o=undefined;while(n!==null&&n!==undefined&&typeof f==="string"){o=n;n=i(n,f);if(typeof n==="function"){n=n.call(o)}f=u.shift()}return n||t},setValueForKeyPath:function(e,r,t){if(typeof r!="string"){throw new Error("keypath must be a string")}var n=r.split(".");var i=n.pop();var f=_(e).valueForKeyPath(n.join("."));if(f!==null&&f!==undefined){u(f,i,t)}},pluckByKeyPath:function(e,r){var t=[];var n,i;for(n in e){i=e[n];t[n]=_(i).valueForKeyPath(r)}return t},whereByKeyPath:function(e,r){"use strict";var t=[];var n,i;var u,o;for(n in e){i=e[n];if(f(i,r)){t.push(i)}}return t},findWhereByKeyPath:function(e,r){"use strict";var t=[];var n,i;var u,o;for(n in e){i=e[n];if(f(i,r)){return i}}return null},sortByKeyPath:function(e,r){if(typeof r!=="string"){return _.sortBy(e,r)}else{return _.sortBy(e,function(e){return _.valueForKeyPath(e,r)})}},groupByKeyPath:function(e,r){if(typeof r!=="string"){return _.groupBy(e,r)}else{return _.groupBy(e,function(e){return _.valueForKeyPath(e,r)})}},indexByKeyPath:function(e,r){if(typeof r!=="string"){return _.indexBy(e,r)}else{return _.indexBy(e,function(e){return _.valueForKeyPath(e,r)})}},countByKeyPath:function(e,r){if(typeof r!=="string"){return _.countBy(e,r)}else{return _.countBy(e,function(e){return _.valueForKeyPath(e,r)})}}};var a={getValueForKeyPath:o.valueForKeyPath};_.mixin(o);_.mixin(a);if(e){module.exports=_}})();
//# sourceMappingURL=lib/underscore-keypath.min.js.map